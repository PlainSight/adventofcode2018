var a = ['                                /--------------------\\                       /------------------------------------------------<-------\\               ','                                |         /----------+-----------------------+------------------------------------------------------\\ |               ','                                |         |          |                /------+-------------------------------------\\                | |               ','                                |         |          | /-->-----------+------+---------------------\\               |                | |               ','                  /-------------+---------+----------+-+--------------+------+---------------------+---------------+\\               | |               ','                  |             |         |          | |    /---------+------+----------\\          |               ||               | |               ','                  |             |         |    /-----+-+----+---------+------+----------+-------\\  |               ||       /-------+\\|               ','    /-------------+----------\\  |         |    |     | |    |         | /----+-------\\  |       |  |               ||       |       |||               ','    |             |          |  |         |    |     | |/---+---------+-+----+-------+--+-------+--+---------------++-----\\ |       |||               ','    |             |    /-----+--+---------+----+-----+-++---+-\\ /-----+-+----+-------+--+-------+--+---------------++-----+-+-------+++-----\\         ','    |             |    |     |  |         |    |     | ||   | | |     | |    |       |/-+-------+--+--------\\      ||     | |       |||     |         ','    |             |    |     | /+---------+----+-----+-++--\\| | |     | |    |    /--++-+---\\   |  |        |      ||     | |       |||     |         ','    |             |    |     | ||/--------+----+-----+-++--++-+-+-----+-+----+----+--++-+---+-\\ |  |        |      ||     | |       |||     |         ',' /--+-------------+----+-----+-+++--\\     \\----+-----+-++--++-+-+-----+-+----+----+--++-+---+-+-+--+--------+------++-----+-+-------/||     |         ',' |  |   /---------+---\\|     | |||  |          |     | ||  || | |     | |    |    |  || |   | | |  |        |      ||     | |        ||     |         ',' |  |   | /-------+---++-----+-+++--+----------+-----+-++-\\|| | |     | |    |    |  || |   | | |  |        |      ||     | \\--------/|     |         ',' |  |   | |       |   ||     | |||  |          |     | || ||| | |     | |    |    |  || |   | | |  |        |      ||     |           |     |         ',' |  |   | |     /-+---++-----+-+++--+----------+-----+-++-+++\\| |     | |    |    |  || |   | | |  |/-------+------++-----+-----------+-\\   |         ',' |  |   | |     | |   ||     | |||  |          |     | || ||||| |     | |    |    |  || |   | | | /++-------+------++-----+---------\\ | |   |         ',' |  |   | |     | |   ||     | |||  |  /-------+-----+-++-+++++-+-----+-+----+----+--++-+---+-+-+-+++-------+------++-----+-------\\ | | |   |         ',' |  |   | |     | |   ||     | |||  |  |       |     | || ||||| |     \\-+----+----+--++-+---+-+-+-+++-------+------/|     |       | | | |   |         ',' |  \\---+-+-----+-+---++-----/ |||  |  |       |     | || ||||| |       |    |    |  ||/+---+-+-+-+++-------+-------+-----+-------+-+\\| |   |         ',' |      | |     | |   ||   /---+++--+--+-------+\\    | || ||||| |       |    |    |  ||||   | | | |||       |       |     |       |/+++-+---+--\\      ',' |      | |     | |   ||   |   |||  |  |       ||    | ||/+++++-+-------+----+----+--++++---+\\| | |||       |       |     |       ||||| |   |  |      ',' \\------+-+-----+-+---++---+---+++--/  |       ||    | |||||||| |       |    |    |  ||||   ||| | |||       |       |     |       ||||| |   |  |      ','        | |   /-+-+---++---+---+++-----+-------++----+\\|||||||| |       |    |    | /++++---+++-+-+++---\\   |       |     |       ||||| |   |  |      ','        | | /-+-+-+---++---+---+++-----+-------++-\\  ||\\+++++++-+-------+----+----+-+++++---+++-+-+/|/>-+---+-------+-----+----\\  ||||| |   |  |      ','        | | | | | |   |\\---+---+++-----+-------++-+--++-++++++/ |       |    |    | |||||   ||| | | ||/-+---+-------+-----+----+--+++++-+---+--+----\\ ','        | | | | | |   |    |   |||     |       || |  || ||||||/-+-------+--\\ |    | ||\\++---+++-+-+-+++-+---//------+-----+----+--+++++-+---+--+--\\ | ','        | | | | | |   |   /+---+++-\\   | /-----++-+--++-+++++++-+-------+--+-+----+-++-++---+++-+-+-+++-+----+------+\\    |    |  ||||| |   |  |  | | ','        | |/+-+-+-+---+---++---+++-+---+-+-----++-+--++-+++++++-+-------+--+-+----+-++-++---+++-+-+-+++-+----+------++-\\  |    |  ||||| |   |  |  | | ','        | ||| | | |   |   ||   \\++-+---+-+-----++-+--++-+++/||| |       |  | |    | || ||   ||| | | ||| |    |      || |  |    |  ||||| |   |  |  | | ','      /-+-+++-+-+-+---+---++----++-+---+-+-----++-+--++-+++-+++-+-------+--+-+----+-++-++---+++-+-+-+++-+----+-\\    || |  |    |  ||||| |   |  |  | | ','      | | ||| | | |   |   ||    || |   | |     || |  || ||| ||| |       |  | |    | || ||   ||| | | ||| |    | |    || |  |    |  ||||| |   |  |  | | ','      | | ||| | | |  /+---++---\\|| |   | |     || |  || ||| ||| |       \\--+-+----+-+/ ||  /+++-+-+-+++-+----+-+----++-+--+----+--+++++-+---+--+-\\| | ','      | | ||| | | |  ||   ||   ||| |   | |  /--++-+--++-+++-+++-+----------+-+----+-+--++--++++-+-+-+++-+----+-+----++-+--+--\\ |  ||||| |   |  | || | ','    /-+-+-+++-+-+-+--++---++---+++-+---+-+--+--++-+--++-+++-+++-+---\\  /---+-+----+-+--++--++++-+-+-+++-+----+-+----++-+--+--+-+--+++++-+-\\ |  | || | ','    | | | ||| | | |  ||   ||   ||| |   | |/-+--++-+--++-+++-+++-+---+--+---+-+----+-+--++--++++-+-+-+++-+----+-+----++-+--+--+-+--+++++-+-+-+\\ | || | ','    | | | ||| | | |  ||  /++---+++-+---+-++-+--++-+--++-+++-+++-+---+--+---+-+----+-+--++--++++-+-+-+++-+----+-+----++-+-\\| /+-+--+++++\\| | || | || | ','    | | | ||| | | |  ||  |||   ||| |   | || |  || | /++-+++-+++-+---+--+-\\ | |    | |  ||  |||| | | ||| |    | |    || | || || |  ||||||| | || ^ || | ','    | | | ||| | | |  ||  |||   ||| |   |/++-+--++-+-+++-+++-+++-+---+--+-+-+-+----+-+--++--++++-+-+-+++-+----+\\|    || | || || |  ||||||| | || | || | ','    | | | ||| |/+-+--++--+++---+++-+---++++-+--++-+-+++-+++-+++-+---+--+-+-+\\|    | |  ||  |||| | | ||| |    |||    || | || || |  ||||||| | || | || | ','    | | | ||| ||| |  ||  |||   ||| |   |||| |  || | |||/+++-+++-+---+--+-+-+++----+-+--++--++++-+-+-+++-+----+++----++-+-++-++-+--+++++++-+-++-+-++\\| ','  /-+-+-+-+++-+++-+--++\\ |||   ||| |   |||| | /++-+-+++++++-+++-+---+--+-+-+++--\\ | \\--++--++++-+-+-+++-/    |||    || | || || |  ||||||| | || | |||| ','  | | | | \\++-+++-+--+++-+++---+++-+---++++-+-+++-+-++++++/ ||| |   |  | | ||\\--+-+----++--++++-+-+-+++------+++----++-+-++-++-+--++++/|| | || | |||| ','  | | | |  || \\++-+--+++-+++---+++-+---++++-+-+++-+-++/|||  ||| |  /+--+-+-++---+-+----++--++++-+-+-+++------+++----++-+-++-++-+--++++-++-+-++-+\\|||| ','  | | | |  ||  || |  ||| ||\\---+++-+---++++-+-++/ | || ||| /+++-+--++--+-+-++---+-+---\\||  \\+++-+-+-+++------+++----++-+-++-++-+--++++-++-+-++-++/||| ',' /+-+-+-+--++--++-+--+++-++----+++-+---++++-+\\||  | || ||\\-++++-+--++--+-+-++---+-+---+++---+/| | | |||      |||    || | || || |  |||| || | || || ||| ',' || | | |  ||  || |  ||| ||    ||| |   |||| ||||  | || ||  |||| |  ||  | | ||   | |   |||   | | |/+-+++------+++----++-+-++-++-+--++++-++-+-++\\|| ||| ',' || | | |  ||  || |  ||| ||    ||| |   |||| ||||  | || ||  |||| |  ||  | | ||   | |   |||   | | ||| |||      |||    || | || || |  |||| || | ||||| ||| ',' || | | |  ||  || |  ||| ||   /+++-+---++++-++++--+-++-++--++++-+-\\||  | | ||   | |   |||   | | ||| |||      |||    || | || || |  |||| || | ||||| ||| ',' || | | |  ||  || |  ||| ||   |||| |   |||| |||| /+-++-++--++++-+-+++\\ | | ||   | |   |||   | | ||| |||      |||    || | || || |  |||| || | ||||| ||| ',' || | | |  ||  || |  ||| ||   |||| |   |||| |||| || || ||  |||| | |||| | | ||   | |   |||   | | ||| \\++------+++----++-+-++-++-+--++++-+/ | ||||| ||| ',' || | | |  ||  || |  ||| ||   |||| |   |||| |||| || || ||  |||| | |||| | | ||   | |   |||   | | |||  ||      |||    || | || || |  |||| |  | ||||| ||| ',' || | | |  ||  || |  ||| ||   |||| |   |||| |||| || || ||  |||| | |||| | | ||   | | /-+++---+-+\\|||  ||      |||    || | || || |  |||| |  | ||||| ||| ',' || | ^ |  ||  || |  ||| ||   |||| |/--++++-++++-++-++-++--++++-+-++++-+-+-++---+-+-+-+++--\\| |||||/-++------+++----++-+-++-++-+--++++\\|  | ||||| ||| ',' || | | |  ||  || |  ||| ||   |||| ||  |||| |||| || || ||  |||| | |||| | | ||   | | | |||  || |||||| ||      |||    || | || \\+-+--+++++/  | ||||| ||| ',' || | | |  ||  || |  ||| ||   ||||/++--++++-++++-++-++-++--++++-+-++++-+-+-++---+-+-+-+++--++-++++++-++-----\\|||    || | ||  | |  |||||   | ||||| ||| ',' || | | |  ||  || |  ||| ||   |||||||/-++++-++++-++-++-++--++++-+-++++-+-+-++---+-+-+-+++--++-++++++-++-----++++----++-+-++--+-+--+++++---+-+++++\\||| ',' |\\-+-+-+--++--++-+--++/ ||   |||||||| |||| |||| || || ||  |||| |/++++-+-+-++---+-+-+-+++--++-++++++-++-----++++----++-+-++--+-+--+++++---+-+++++++++\\\\',' |  | | |  ||  || |  ||  ||   |||||||| |||| |||| || || ||  |||| |||||| | | ||   |/+-+-+++--++-++++++-++--\\  ||||    || | ||  | |  |||||   | ||||||||||',' |  | | |  ||  ||/+--++--++---++++++++-++++-++++-++-++-++--++++-++++++-+-+-++---+++-+-+++--++-++++++-++--+--++++----++-+-++-\\| |  |||||   | ||||||||||',' |  | | |  ||/-++++--++--++---++++++++-++++-++++-++-++-++--++++-++++++-+-+-++---+++-+-+++--++-++++++-++--+--++++---\\|| | || || |  |||||   | ||||||||||',' |  | | |  ||| ||||  ||  ||   |||||||| |||| |||| || || ||  |||| |||||| | | ||   ||| | |||  || |||||| || /+--++++--\\||| | || || |  |||||   | ||||||||||',' |  | | |  ||| ||||  ||  || /-++++++++-++++-++++-++-++-++--++++-++++++-+-+-++---+++-+-+++--++-++++++-++-++--++++--++++-+-++-++-+\\ |||||   | ||||||||||',' |  | | |/-+++-++++--++--++-+-++++++++\\|||| |||| || || ||  |||| |||||| | | ||   ||| | |||  || |||||| v| ||  ||||  |||| | || || || |||||   | ||||||||||',' |  | | || ||| ||||  ||  \\+-+-+++++++++++++-++++-++-++-++--++++-++++++-+-+-++---+++-+-+++--++-++++++-++-++--++++--++++-+-/| v| || |||||   | ||||||||||',' |  | | || ||| ||||  ||   | | |||||||||||||/++++-++-++-++--++++-++++++-+-+-++---+++-+\\|||  || |||||| || ||  ||||  |||| |  | || || |||||   | ||||||||||',' |  | | || ||| ||||  ||   | | |||||||||||||||||| || || ||  |||| ||||||/+-+-++---+++-+++++--++-++++++-++-++--++++--++++-+-\\| || || |||||   | ||||||||||',' |  | | || ||| ||||  ||   | | |||||||||||||||||| || || ||  |||\\-++++++++-+-/|  /+++-+++++--++-++++++-++-++\\ ||||  ||||/+-++-++-++-+++++\\  | ||||||||||',' |  | | || ||| ||||  ||   | | ||\\+++++++++++++++-++-+/ ||  |||  |||||||| |  |  |||| |||||  || |||||| || ||| ||||  |||||| || || || ||||||  | ||||||||||',' |  | | || ||| ||||  ||   | | || ||||||||||||||| || |  ||  |||  |||||||| |  |  |||| |||||  || |||||| || ||| ||||  |||||| || || || ||||||  | ||||||||||',' |  | | ||/+++-++++--++---+-+-++-+++++++++++++++\\||/+--++--+++--++++++++-+--+--++++\\|||||  || |||||| || ||| ||||  |||||| || || || ||||||  | ||||||||||',' |  | | |||||| ||||  ||   | | || ||||||||||||||||||||  ||  |||  |||||||| |  |  |||||\\++++--++-+/|||| || ||| ||||  |||||| || || || ||||||  | ||||||||||',' |  | | |||||| ||||  ||   | | || ||||||||||||||||||||  ||  |||  |||||||| |  |  ||||| ||||  || | |||| || ||| ||||  |||||| || || || ||||||  | ||||||||||',' |  | | |||||| ||||  ||   | | || ||||||||||||||||||||  ||  |||  |||||||| |  |  ||\\++-++++--++-+-++++-++-+/| ||||  |||||| || || || ||||||  | ||||||||||',' |  | | |||||| ||\\+--++---+-+-++-++++++++++++++++++++--++--+++--++++++++-+--+--++-++-++++--++-+-++++-++-+-+-++++--++++++-++-/| || ||||||  | ||||||||||',' |  | | |||||| |\\-+--++---+-+-++-++++++++++++++++++++--++--++/  |||||||| |  |  || || ||||  || | |||| || | | |\\++--++++++-++--+-++-++++++--+-++++++/|||',' |  | | |||||| |  |  ||   | | || \\+++++++++++++++++++--++--++---++++++++-+--+--++-++-++++--++-/ |||| || | | | ||  |||||| ||  | || ||||||  | |||||| |||',' |  | | |||||| |  |  ||   | | ||  |||||||||||||||||||  ||  ||   |||||||| |  |  || || ||||  ||   |||| || | | | ||  |||||| ||  | || ||||||  | |||||| |||','/+--+-+-++++++-+--+-\\||   | | ||  |||||||||||||||||||  ||  ||   |||||||| |  |  || || ||||  ||   |||| || | | | ||  |||||| ||  | || ||||||  | |||||| |||','||  | | \\+++++-+--+-++/   | | ||  |||||||||||||||||||  ||  ||   |||||||| |  |  || || ||||  ||   |\\++-++-+-+-+-++--++++++-++--+-++-++++++--+-++/||| |||','||  | |  ||||| |  | ||   /+-+-++--+++++++++++++++++++--++--++---++++++++-+--+--++-++-++++--++---+-++-++-+-+-+-++--++++++-++\\ | || ||||||  | || ||| |||','||  | |  ||||| |  | ||   || | ||  |||||||||||||||||||  ||  ||   ||||||v| |  |  || \\+-++++--+/   | || || | | | ||  |||||| ||| | || ||||||  | || ||| |||','||  | |  ||||| |  \\-++---++-+-++--+++++++++++++++++++--++--++---++++++++-+--+--++--+-++++--+----+-++-++-+-+-+-++--++/||| ||| | || ||||||  | || ||| |||','||/-+-+--+++++-+----++---++-+-++--+++++++++++++++++++--++--++-\\ |||||||| |  |  ||  | ||||  |    |/++-++-+-+-+-++--++-+++-+++-+-++-++++++--+\\|| ||| |||','||| |/+--+++++-+----++---++-+-++-\\|||||||||||||||||||  ||  || | |||||||| |  |  ||  | ||||  |    |||| || | | | ||  || ||| ||| | || ||||||  |||| ||| |||','||| |||  |||||/+----++--\\|| | \\+-++++++++++++++++++++--++--++-+-++/||||| |  |  ||  | ||||  |    |||| || | | | ||  || ||| ||| | || ||||||  |||| ||| |||','||| |||  ||\\++++----++--+++-+--+-++++++++++++++++++++--++--++-+-++-+++++-+--+--++--+-++++--+----++++-++-+-+-+-++--++-++/ ||| | || ||||||  |||| ||| |||','||| v||  || ||||    ||  ||| |  | ||||||||||||||||||||  ||  |\\-+-++-+++++-+--+--++--+-+++/  |    |||| || | | | ||  || ||  ||| | || ||||||  |||| ||| |||','||| |||  || ||||    ||  ||| |  | ||||||||||||||||||||  ||  |  | || ||||| |  |  ||  | |||   |    |||| || | | | ||  || ||  ||| | || ||||||  |||| ||| |||','||| \\++--++-++++----++--+++-+--+-++++++++++++++++++++--++--+--+-++-+/||| |  |  ||  | |||   |    |||| |\\-+-+-+-++--++-++--+++-+-++-++++++--++++-+++-+/|','|||  || /++-++++--\\ ||  ||| |  | ||||||||||||||||||||  |\\--+--+-++-+-+++-+--+--++--+-+++---+----++++-+--+-+-+-++--++-++--+/| | || ||||||  |||| ||| | |','|||  || ||| ||||  | ||  |||/+--+-++++++++++++++++++++--+---+--+-++-+-+++-+--+--++--+-+++--\\|    |||| |  | | | ||  || ||  | | | || ||||||  |||| ||| | |','|||  || ||| ||||  | ||  |||||  | ||||||||||||||||||||  |   |  | || | ||| |  |  ||  | ||\\--++----++++-+--+-+-+-++--++-++--+-+-+-++-+++/||  |||| ||| | |','||\\--++-+++-++++--+-++--+++++--+-++++++++++++++++++++--+---+--/ || | |||/+--+--++--+-++---++----++++-+--+-+-+-++\\ || ||  | | | || ||| ||  |||| ||| | |','||   || ||| ||||  | ||  |||||  | ||||||||||||||||||||  |   |    || | |||||  |  ||  | ||   ||    |||| |  | | | ||| || ||  | | | || ||| ||  |||| ||| | |','||   || ||| ||||  | ||  |||||  | ||||||||||||||||||||  |   |    || | |||||  |  ||  | ||   ||    |||| |  | | | ||| || ||  | | | || |\\+-++--++++-/|| | |','||  /++-+++-++++--+-++--+++++-\\| |||||||||||||||||||\\--+---+----++-+-++++/  |  ||  | ||   ||    |||| |  | | | ||| || ||  | | | || | | ||  ||||  || | |','||  ||| ||\\-++++--+-++--+++++-++-+++++++++++++++/|||   |   |    || | ||||   | /++--+-++---++----++++-+--+-+-+-+++-++-++--+-+-+\\|| | | ||  ||||  || | |','||  ||| || /++++--+-++--+++++-++-+++++++++++++++\\|||   |   |    || | ||||   | |||  | ||   ||    |||| |  | | | ||| || ||  | | |||| | | ||  ||||  || | |','||  ||| || |||||  | ||  ||||| || |||||||||||||||||||   |/--+----++-+-++++---+-+++--+\\||   ||    |||| |  | | | ||| || ||  | | |||| | | ||  ||||  || | |','||  ||| || |||||  | ||  ||||| || |||||||||||||\\+++++---++--+----++-+-++++---+-++/  ||||   ||    |||| |  | | | ||| || ||  | | |||| | | ||  ||||  || | |','||  ||| || |||||  | ||  ||||| || ||||||||||||| \\++++---++--+----++-+-++++---+-++---++++---++----/\\++-+--+-+-+-+++-++-++--+-+-++++-+-+-++--+/||  || | |','||  ||| || |||\\+--+-++--/|||| || |||||||||||||  ||||   ||  |    || | ||||   | ||   ||||   ||      || |  | | | ||| || ||  | | |||| | | ||  | ||  || | |','||  ||| || ||| |  | ||   |||| || |||||||||||||  ||||   ||  |    || | ||\\+---+-++---++++---++------++-+--+-+-+-+++-++-++--+-+-++++-+-+-++--/ ||  || | |','||  ||| || ||| |  | ||   |||| || |||||||||||||  ||||   ||  |    \\+-+-++-+---+-++---++++---++------++-+--+-+-+-+++-++-++--+-+-++++-+-+-++----/|  || | |','||  ||| |\\-+++-+--+-++---++++-++-+++++/|||||||  ||||   ||  |     | | || |   | ||   ||||   ||      || |  | | | ||| || ||  | | |||| | | ||     |  || | |','\\+--+++-+--+++-+--+-/|   |\\++-++-++/|| |||\\+++--++++---++--+-----+-+-++-+---+-++---++++---++------++-+--+-+-+-+++-++-++--+-+-++++-+-+-++-----/  || | |',' |  ||| |  ||| |  |  |   | || || || || ||| |||/-++++---++--+-----+-+-++-+---+-++---++++---++------++-+--+-+-+-+++-++-++--+-+-++++-+-+-++\\       || | |',' |  ||| |  ||| |  |  |   | || || || || |\\+-++++-++++---++--+-----+-+-++-+---+-++---++++---++------++-+--+-+-+-/|| || ||  | | |||| | | |||       || | |',' | /+++-+--+++-+--+--+---+-++-++-++-++-+-+\\|\\++-++++---++--+-----+-+-++-+---+-++---++++---++------++-+--+-+-+--++-++-++--+-+-/||| | | |||       || | |',' | |||| \\--+++-+--/  |   | || || || || \\-+++-++-++++---++--+-----+-+-++-+---+-++---++++---++------++-+--+-+-+--++-++-++--+-+--+++-/ | |||       || | |',' | |\\++----+++-+-----+---+-++-/| || \\+---+++-++-++++---++--+->---+-+-++-+---+-++---++++---+/      || |  | | |  || || ||  | |  |||   | |||       || | |',' | | ||    ||| \\-----+---+-++--+-++--+---+++-++-++++---++--+-----+-+-++-+---/ ||   ||||  /+-------++-+--+-+-+--++-++-++--+-+--+++---+-+++-------++\\| |',' | | ||    |||       |   | ||  | ||  |   ||| || ||||   ||  |     | | || |     ||   ||||  ||       \\+-+--+-+-+--++-++-++--+-+--+++---/ |||       |||| |',' | | ||    |\\+-------+---+-++--+-++--+---+++-++-++/|   ||  |     | | || |     ||   ||||  ||        | |  | | |  || || |\\--+-+--+++-----+/|       |||| |',' | | ||    | |       |   | ||  | ||  |   ||| || || |   |\\->+-----+-+-++-+-----++---+/||  ||        | |  | | |  || || |   | |  ^||     | |       |||| |',' | | \\+----+-+-------+---+-++--+-/|  |/--+++-++-++-+---+---+-----+-+-++-+-----++---+-++--++--------+-+--+-+-+--++-++\\|   | |  |||     | |       |||| |',' | |  |    | |       |   | |\\--+--+--++--+++-++-++-+---+---+-----+-+-++-+-----++---+-++--++--------+-+--+-+-+--++-++++---+-+--++/     | |       |||| |',' | |  |    | |       |   \\-+---+--+--++--+++-++-++-+---+---+-----+-+-++-+-----++---+-++--++--------+-+--+-+-+--++-++++---+-/  ||      | |       |||| |',' | |  |    | |       |     |   |  |  \\+--+++-++-++-+---+---+-----+-+-++-+-----++---+-++--++--------+-+--+-+-+--++-++++---+----++------+-+-------+/|| |',' | |  |    | |       |     |   |  |   |  ||| || || |   |  /+-----+-+-++-+-----++---+-++--++--------+-+--+-+-+--++-++++---+----++------+-+--\\    | || |',' | |  |    \\-+-------+-----+---+--+---+--+++-++-/\\-+---+--++-----+-+-/| |     ||   | ||  ||        | |  | | |  || ||||   |    ||      | |  |    | || |',' | |  \\------+-------+-----+---+--+---+--+++-++----+---+--++-----+-+--+-+-----++---+-++--++--------+-+--+-+-+--/| ||||   |    ||      | |  |    | || |',' | |      /--+-------+-----+---+--+---+--+++-++----+---+--++-----+-+-\\| |     \\+---+-++--++--------+-+--+-+-+---+-++++---+----/|      | |  |    | || |',' | |      |  |       |     |   |  |   |  ||| ||    \\---+--++-----+-+-++-+------+---/ ||  ||        | |  | | |   | ||||   |     |      | |  |    | || |',' | |    /-+--+-------+-----+---+--+---+--+++-++----\\   |  ||     \\-+-++-+------+-----++--++--------+-+--+-+-+---+-++++---+-----+------+-+--+----+-++-/',' | |    | |  |       |     |   |  \\---+--+++-++----+---+--++-------+-++-+------+-----++--++--------+-+--+-+-/   | ||||   |     |      | |  |    | ||  ',' | |    | |  |       \\-----+---/   /--+--+++-++---\\|   |  ||       | || |      |     ||  ||        | |  | |     | ||||   |     |      | |  |    | ||  ',' | |    | |  |             |       |  |  ||| ||   ||   |  |\\-------+-++-+------+-----+/  ||        | \\--+-+-----+-++++---+-----/      | |  |    | ||  ',' | |    | |  |             |       |  |  ||| ||   ||   |  \\--------+-++-+------+-----+---++--------+----+-+-----+-++++---+------------+-+<-/    | ||  ',' | |    | |  |             |       |  |  ||| ||   ||   |           | || |      |     |   ||        |    | |     | ||||   |            | |       | ||  ',' | |    | |  |             |       |  |  ||\\-++---++---+-----------+-++-+------+-----/   \\+--------+----+-+-----+-++++---+------------+-+-------+-/|  ',' | |    | |  |             |       |  \\--++--++---++---+-----------+-++-+------+----------+--------+----+-+-----+-++/|   |            | |       |  |  ',' | |    | |  |             |       |     \\+--++---++---+-----------+-++-+------+----------+--------+----+-+-----+-++-/   |            | |       |  |  ',' | |    | |  |             |       |    /-+--++---++---+-----\\     | || |      |          |        |    | |     | ||     |            | |       |  |  ',' | |    | |  |             \\-------+----+-+--++---++---+-----+-----+-++-+------+----------/        |    | |     | ||     |            | |       |  |  ',' | |    | |  |                     |    | |  ||   ||   |     |     | || |   /--+----------\\        |    | |     | ||     |            | |       |  |  ',' | |    | |  |                     |    | |  ||   ||   |     |     | || |   |  |          |        |    \\-+-----+-/|     |            | |       |  |  ',' | |    | |  |                     |    | |  ||   ||   \\-----+-----+-++-+---+--+----------+--------+------+-----+--+-----+------------+-+-------+--/  ',' | |    | \\--+---------------------+----+-+--++---++---------+-----+-/| |   |  |          |        |      |     |  |     |            | |       |     ',' \\-+----+----+---------------------+----+-+--/|   ||         |     \\--+-+---+--+->--------+----->--+------+-----+--+-----+---------<--+-+-------/     ','   |    |    |                     |    | |   \\---++---------+--------+-+---+--+----------+--------+------+-----+--+-----+------------+-/             ','   \\----+----+---------------------+----+-/       ||         |        \\-+---+--+----------+--------+------+-----+--+-----/            |               ','        |    |                     |    \\-----<---++---------/          \\---+--+----------+--------+------+-----/  |                  |               ','        |    \\---------------------+--------------++------------------------+--+----------+--------+------+--------/                  |               ','        |                          |              ||                        |  |          |        |      |                           |               ','        \\--------------------------+--------------+/                        \\--+----------/        \\------+---------------------------/               ','                                   \\--------------/                            \\--------------------------/                                           '];

var carts = [];

function resolveIntersection(currentDirection, nextTurn) {
	switch(currentDirection+'-'+nextTurn) {
		case 'left-left':
			return 'down';
		case 'left-right':
			return 'up';
		
		case 'right-left':
			return 'up';
		case 'right-right':
			return 'down';
			
		case 'up-left':
			return 'left';
		case 'up-right':
			return 'right';
			
		case 'down-left':
			return 'right';
		case 'down-right':
			return 'left';
		
		default:
			return currentDirection;
	}
}

for(var v = 0; v < a.length; v++) {
	for(var h = 0; h < a[v].length; h++) {
		switch(a[v][h]) {		
			case '>':
				carts.push({ x: h, y: v, dir: 'right', nextTurn: 'left', dead: false });
				var newString = a[v].slice(0, h) + '-' + a[v].slice(h+1, a[v].length);
				a[v] = newString;
				break;
			case '<':
				carts.push({ x: h, y: v, dir: 'left', nextTurn: 'left', dead: false });
				var newString = a[v].slice(0, h) + '-' + a[v].slice(h+1, a[v].length);
				a[v] = newString;
				break;
			case '^':
				carts.push({ x: h, y: v, dir: 'up', nextTurn: 'left', dead: false });
				var newString = a[v].slice(0, h) + '|' + a[v].slice(h+1, a[v].length);
				a[v] = newString;
				break;
			case 'v':
				carts.push({ x: h, y: v, dir: 'down', nextTurn: 'left', dead: false });
				var newString = a[v].slice(0, h) + '|' + a[v].slice(h+1, a[v].length);
				a[v] = newString;
				break;
		}
	}
}

var noCrash = true;

outer: while(noCrash) {	
	var orderedCarts = carts.sort(function(a, b) {
		if(a.y == b.y) {
			return a.x - b.x;
		}
		return a.y - b.y;
	});
	
move:for(var c = 0; c < orderedCarts.length; c++) {	
		var cart = orderedCarts[c];
		
		if(cart.dead) {
			continue move;
		}
		
		var numberAlive = 0;
		for(var ac = 0; ac < orderedCarts.length; ac++) {
			var aliveCart = orderedCarts[ac];
			if(aliveCart.dead == false) {
				numberAlive++;
			}
		}
		
		if(numberAlive == 1) {
			console.log('lastAliveCart: ' + cart.x + ',' + cart.y);
			break outer;
		}
		
		var place = a[cart.y][cart.x];		
		
		switch(place) {
			case '-':
				if (cart.dir == 'left') {
					cart.x--;
				} else {
					cart.x++;
				}
				break;
			case '|':
				if (cart.dir == 'up') {
					cart.y--;
				} else {
					cart.y++;
				}
				break;
			case '/':
				switch(cart.dir) {
					case 'up':
						cart.dir = 'right';
						cart.x++;
						break;
					case 'down':
						cart.dir = 'left';
						cart.x--;
						break;
					case 'right':
						cart.dir = 'up';
						cart.y--;
						break;
					case 'left':
						cart.dir = 'down';
						cart.y++;
						break;
				}
				break;
			case '\\':
				switch(cart.dir) {
					case 'up':
						cart.dir = 'left';
						cart.x--;
						break;
					case 'down':
						cart.dir = 'right';
						cart.x++;
						break;
					case 'right':
						cart.dir = 'down';
						cart.y++;
						break;
					case 'left':
						cart.dir = 'up';
						cart.y--;
						break;
				}
				break;
			case '+':
				var newDir = resolveIntersection(cart.dir, cart.nextTurn);
				cart.dir = newDir;
				
				switch(cart.nextTurn) {
					case 'left':
						cart.nextTurn = 'straight';
						break;
					case 'straight':
						cart.nextTurn = 'right';
						break;
					case 'right':
						cart.nextTurn = 'left';
						break;
				}
								
				switch(newDir) {
					case 'up':
						cart.y--;
						break;
					case 'down':
						cart.y++;
						break;
					case 'left':
						cart.x--;
						break;
					case 'right':
						cart.x++;
						break;
				}
				break;			
		}
		
		for(var cc = 0; cc < orderedCarts.length; cc++) {
			var collidingCart = orderedCarts[cc];
			
			if(collidingCart.dead == false && cc != c && collidingCart.x == cart.x && collidingCart.y == cart.y) {
				cart.dead = true;
				collidingCart.dead = true;
			}
		}
	}
}

function printWorld() {
	console.log('lol');
	for(var v = 0; v < a.length; v++) {
		var line = '';
linePrint:	for(var h = 0; h < a[v].length; h++) {
			for(var c = 0; c < carts.length; c++) {
				var cart = carts[c];
				
				if (cart.dead == false && cart.x == h && cart.y == v) {
					switch(cart.dir) {
						case 'up':
							line += '^';
							break;
						case 'down':
							line += 'v';
							break;
						case 'left':
							line += '<';
							break;
						case 'right':
							line += '>';
							break;
					}
					
					continue linePrint;
				}
			}
			
			line += a[v][h];
		}
		console.log(line);
	}
}